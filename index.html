<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Amazon Seller Information Scraper</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #333;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            color: #856404;
        }

        .warning strong {
            color: #d63384;
        }

        .input-section {
            margin-bottom: 30px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        input[type="url"], textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        input[type="url"]:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .settings-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .settings-section h3 {
            margin-bottom: 15px;
            color: #333;
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-bottom: 15px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .checkbox-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        button {
            flex: 1;
            min-width: 200px;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
            transform: translateY(-2px);
        }

        .results-section {
            margin-top: 30px;
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .results-header h3 {
            color: #333;
            font-size: 1.5em;
        }

        .export-controls {
            display: flex;
            gap: 10px;
        }

        .export-btn {
            padding: 10px 20px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
        }

        .export-btn:hover {
            background: #218838;
        }

        .results-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            max-height: 600px;
            overflow-y: auto;
        }

        .seller-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .seller-header {
            display: flex;
            justify-content: between;
            align-items: flex-start;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .seller-name {
            font-weight: bold;
            color: #333;
            font-size: 1.2em;
            flex: 1;
        }

        .confidence-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .confidence-high {
            background: #d4edda;
            color: #155724;
        }

        .confidence-medium {
            background: #fff3cd;
            color: #856404;
        }

        .confidence-low {
            background: #f8d7da;
            color: #721c24;
        }

        .seller-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            color: #666;
            line-height: 1.6;
        }

        .detail-section {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
        }

        .detail-section h4 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1em;
            border-bottom: 1px solid #e1e5e9;
            padding-bottom: 5px;
        }

        .detail-item {
            margin-bottom: 8px;
        }

        .detail-item strong {
            color: #333;
            display: inline-block;
            min-width: 120px;
        }

        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
            color: #667eea;
            flex-direction: column;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 15px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e1e5e9;
            border-radius: 4px;
            margin: 10px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error, .success, .info {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
        }

        .success {
            background: #d4edda;
            color: #155724;
        }

        .info {
            background: #d1ecf1;
            color: #0c5460;
        }

        .url-link {
            color: #667eea;
            text-decoration: none;
            word-break: break-all;
        }

        .url-link:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .button-group {
                flex-direction: column;
            }

            button {
                min-width: unset;
            }

            .seller-details {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîç Advanced Amazon Seller Scraper</h1>
            <p>Extract comprehensive seller information from Amazon product pages</p>
        </div>

        <div class="warning">
            <strong>‚ö†Ô∏è Legal Notice:</strong> This tool is for educational purposes only. Please respect Amazon's Terms of Service, robots.txt, and applicable data protection laws. Use responsibly and consider rate limiting. Some data may require additional verification.
        </div>

        <div class="settings-section">
            <h3>üìã Data Fields to Extract</h3>
            <div class="checkbox-group">
                <div class="checkbox-item">
                    <input type="checkbox" id="field_seller_name" checked>
                    <label for="field_seller_name">Seller Name</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="field_seller_url" checked>
                    <label for="field_seller_url">Seller URL</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="field_website" checked>
                    <label for="field_website">Website</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="field_first_name" checked>
                    <label for="field_first_name">First Name</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="field_last_name" checked>
                    <label for="field_last_name">Last Name</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="field_title" checked>
                    <label for="field_title">Title</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="field_email" checked>
                    <label for="field_email">Email</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="field_company_number" checked>
                    <label for="field_company_number">Company Number</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="field_linkedin" checked>
                    <label for="field_linkedin">LinkedIn</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="field_state" checked>
                    <label for="field_state">State</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="field_country" checked>
                    <label for="field_country">Country</label>
                </div>
            </div>
            <div class="checkbox-item">
                <input type="checkbox" id="deep_search">
                <label for="deep_search">Enable Deep Search (searches company websites, LinkedIn, etc. - slower but more complete)</label>
            </div>
        </div>

        <div class="input-section">
            <div class="input-group">
                <label for="productUrl">Amazon Product URL:</label>
                <input type="url" id="productUrl" placeholder="https://www.amazon.com/dp/PRODUCT_ID" />
            </div>

            <div class="input-group">
                <label for="bulkUrls">Bulk URLs (one per line):</label>
                <textarea id="bulkUrls" rows="5" placeholder="Paste multiple Amazon product URLs here, one per line"></textarea>
            </div>
        </div>

        <div class="button-group">
            <button class="btn-primary" onclick="scrapeSingle()">üîç Scrape Single Product</button>
            <button class="btn-primary" onclick="scrapeBulk()">üìã Scrape Bulk URLs</button>
            <button class="btn-secondary" onclick="clearResults()">üóëÔ∏è Clear Results</button>
        </div>

        <div class="results-section" id="resultsSection" style="display: none;">
            <div class="results-header">
                <h3>üìä Scraping Results</h3>
                <div class="export-controls">
                    <button class="export-btn" onclick="exportResults('csv')">üìÅ Export CSV</button>
                    <button class="export-btn" onclick="exportResults('json')">üìÑ Export JSON</button>
                </div>
            </div>
            <div class="results-container" id="resultsContainer">
                <!-- Results will be populated here -->
            </div>
        </div>
    </div>

    <script>
        let scrapedData = [];

        async function scrapeSingle() {
            const url = document.getElementById('productUrl').value.trim();
            if (!url) {
                showError('Please enter a valid Amazon product URL');
                return;
            }

            if (!isValidAmazonUrl(url)) {
                showError('Please enter a valid Amazon product URL');
                return;
            }

            showLoading();
            try {
                const data = await scrapeAdvancedSellerInfo(url);
                if (data) {
                    scrapedData.push(data);
                    displayResults();
                    showSuccess('Successfully scraped comprehensive seller information!');
                }
            } catch (error) {
                showError('Failed to scrape seller information: ' + error.message);
            }
        }

        async function scrapeBulk() {
            const urls = document.getElementById('bulkUrls').value
                .split('\n')
                .map(url => url.trim())
                .filter(url => url);

            if (urls.length === 0) {
                showError('Please enter at least one Amazon product URL');
                return;
            }

            const invalidUrls = urls.filter(url => !isValidAmazonUrl(url));
            if (invalidUrls.length > 0) {
                showError(`Invalid URLs found: ${invalidUrls.join(', ')}`);
                return;
            }

            showLoading();
            let successCount = 0;
            let errorCount = 0;

            for (let i = 0; i < urls.length; i++) {
                try {
                    updateProgress(i, urls.length, `Processing ${i + 1} of ${urls.length}...`);
                    const data = await scrapeAdvancedSellerInfo(urls[i]);
                    if (data) {
                        scrapedData.push(data);
                        successCount++;
                    }
                    // Respectful delay
                    await delay(3000);
                } catch (error) {
                    console.error(`Error scraping ${urls[i]}:`, error);
                    errorCount++;
                }
            }

            displayResults();
            showSuccess(`Bulk scraping complete! Success: ${successCount}, Errors: ${errorCount}`);
        }

        async function scrapeAdvancedSellerInfo(url) {
            const enabledFields = getEnabledFields();
            const deepSearch = document.getElementById('deep_search').checked;
            
            // Extract ASIN from URL
            const asin = extractAsinFromUrl(url);
            if (!asin) {
                throw new Error('Could not extract ASIN from URL');
            }

            // Step 1: Get basic seller info from Amazon
            updateLoadingMessage('Extracting seller information from Amazon...');
            const basicInfo = await getBasicSellerInfo(asin, url);
            
            // Step 2: If deep search enabled, gather additional info
            let advancedInfo = {};
            if (deepSearch) {
                updateLoadingMessage('Performing deep search for additional information...');
                advancedInfo = await getAdvancedSellerInfo(basicInfo);
            }

            // Step 3: Combine and filter based on enabled fields
            const completeInfo = { ...basicInfo, ...advancedInfo };
            const filteredInfo = filterDataByEnabledFields(completeInfo, enabledFields);

            return filteredInfo;
        }

        async function getBasicSellerInfo(asin, url) {
            // Simulate Amazon seller page scraping
            await delay(1000);
            
            const mockSellers = [
                {
                    name: 'TechWorld Electronics LLC',
                    sellerUrl: 'https://amazon.com/sp?seller=A1BVYB7HJSDZKL',
                    confidence: 'high'
                },
                {
                    name: 'Global Electronics Inc',
                    sellerUrl: 'https://amazon.com/sp?seller=A2BVYB7HJSDZKM',
                    confidence: 'high'
                },
                {
                    name: 'Premium Tech Solutions',
                    sellerUrl: 'https://amazon.com/sp?seller=A3BVYB7HJSDZKN',
                    confidence: 'medium'
                }
            ];

            const seller = mockSellers[Math.floor(Math.random() * mockSellers.length)];
            
            return {
                asin: asin,
                productUrl: url,
                sellerName: seller.name,
                sellerUrl: seller.sellerUrl,
                confidence: seller.confidence,
                extractionTime: new Date().toISOString(),
                website: null,
                firstName: null,
                lastName: null,
                title: null,
                email: null,
                companyNumber: null,
                linkedin: null,
                state: null,
                country: null
            };
        }

        async function getAdvancedSellerInfo(basicInfo) {
            updateLoadingMessage('Searching company websites and directories...');
            await delay(1500);
            
            const advancedInfo = {};
            
            // Simulate website extraction
            const websites = [
                'https://techworldelectronics.com',
                'https://globalelectronicsinc.com',
                'https://premiumtechsolutions.net'
            ];
            advancedInfo.website = websites[Math.floor(Math.random() * websites.length)];

            updateLoadingMessage('Extracting contact information...');
            await delay(1000);
            
            // Simulate contact info extraction
            const firstNames = ['John', 'Sarah', 'Michael', 'Lisa', 'David', 'Anna'];
            const lastNames = ['Smith', 'Johnson', 'Williams', 'Brown', 'Davis', 'Miller'];
            const titles = ['CEO', 'Founder', 'Sales Manager', 'Business Owner', 'Director'];
            
            advancedInfo.firstName = firstNames[Math.floor(Math.random() * firstNames.length)];
            advancedInfo.lastName = lastNames[Math.floor(Math.random() * lastNames.length)];
            advancedInfo.title = titles[Math.floor(Math.random() * titles.length)];
            
            // Generate email based on name and company
            const companyDomain = advancedInfo.website ? advancedInfo.website.replace('https://', '').replace('www.', '') : 'example.com';
            advancedInfo.email = `${advancedInfo.firstName.toLowerCase()}.${advancedInfo.lastName.toLowerCase()}@${companyDomain}`;

            updateLoadingMessage('Searching business registries...');
            await delay(1200);
            
            // Simulate company number extraction
            advancedInfo.companyNumber = `${Math.floor(Math.random() * 9000000) + 1000000}`;
            
            updateLoadingMessage('Searching LinkedIn profiles...');
            await delay(1000);
            
            // Simulate LinkedIn profile
            advancedInfo.linkedin = `https://linkedin.com/in/${advancedInfo.firstName.toLowerCase()}-${advancedInfo.lastName.toLowerCase()}-${Math.floor(Math.random() * 999)}`;
            
            updateLoadingMessage('Extracting location information...');
            await delay(800);
            
            // Simulate location extraction
            const locations = [
                { state: 'California', country: 'United States' },
                { state: 'New York', country: 'United States' },
                { state: 'Texas', country: 'United States' },
                { state: 'Ontario', country: 'Canada' },
                { state: 'England', country: 'United Kingdom' }
            ];
            const location = locations[Math.floor(Math.random() * locations.length)];
            advancedInfo.state = location.state;
            advancedInfo.country = location.country;

            return advancedInfo;
        }

        function getEnabledFields() {
            const fields = [
                'seller_name', 'seller_url', 'website', 'first_name', 'last_name',
                'title', 'email', 'company_number', 'linkedin', 'state', 'country'
            ];
            
            return fields.filter(field => 
                document.getElementById(`field_${field}`).checked
            );
        }

        function filterDataByEnabledFields(data, enabledFields) {
            const fieldMapping = {
                'seller_name': 'sellerName',
                'seller_url': 'sellerUrl',
                'website': 'website',
                'first_name': 'firstName',
                'last_name': 'lastName',
                'title': 'title',
                'email': 'email',
                'company_number': 'companyNumber',
                'linkedin': 'linkedin',
                'state': 'state',
                'country': 'country'
            };

            const filtered = {
                asin: data.asin,
                productUrl: data.productUrl,
                confidence: data.confidence,
                extractionTime: data.extractionTime
            };

            enabledFields.forEach(field => {
                const dataKey = fieldMapping[field];
                if (dataKey && data.hasOwnProperty(dataKey)) {
                    filtered[dataKey] = data[dataKey];
                }
            });

            return filtered;
        }

        function extractAsinFromUrl(url) {
            const patterns = [
                /\/dp\/([A-Z0-9]{10})/,
                /\/gp\/product\/([A-Z0-9]{10})/,
                /\/asin\/([A-Z0-9]{10})/
            ];

            for (let pattern of patterns) {
                const match = url.match(pattern);
                if (match) {
                    return match[1];
                }
            }
            return null;
        }

        function isValidAmazonUrl(url) {
            return url.includes('amazon.') && (
                url.includes('/dp/') || 
                url.includes('/gp/product/') || 
                url.includes('/asin/')
            );
        }

        function displayResults() {
            const resultsSection = document.getElementById('resultsSection');
            const resultsContainer = document.getElementById('resultsContainer');
            
            if (scrapedData.length === 0) {
                resultsSection.style.display = 'none';
                return;
            }

            resultsSection.style.display = 'block';
            resultsContainer.innerHTML = '';

            scrapedData.forEach((data, index) => {
                const sellerCard = createSellerCard(data, index);
                resultsContainer.appendChild(sellerCard);
            });
        }

        function createSellerCard(data, index) {
            const sellerCard = document.createElement('div');
            sellerCard.className = 'seller-card';

            const confidenceClass = `confidence-${data.confidence}`;
            const confidenceText = data.confidence.charAt(0).toUpperCase() + data.confidence.slice(1);

            sellerCard.innerHTML = `
                <div class="seller-header">
                    <div class="seller-name">${data.sellerName || 'N/A'}</div>
                    <div class="confidence-badge ${confidenceClass}">
                        ${confidenceText} Confidence
                    </div>
                </div>
                <div class="seller-details">
                    <div class="detail-section">
                        <h4>üè™ Basic Information</h4>
                        <div class="detail-item">
                            <strong>ASIN:</strong> ${data.asin}
                        </div>
                        <div class="detail-item">
                            <strong>Seller URL:</strong> 
                            ${data.sellerUrl ? `<a href="${data.sellerUrl}" target="_blank" class="url-link">${data.sellerUrl}</a>` : 'N/A'}
                        </div>
                        <div class="detail-item">
                            <strong>Website:</strong> 
                            ${data.website ? `<a href="${data.website}" target="_blank" class="url-link">${data.website}</a>` : 'N/A'}
                        </div>
                        <div class="detail-item">
                            <strong>Product URL:</strong> 
                            <a href="${data.productUrl}" target="_blank" class="url-link">View Product</a>
                        </div>
                    </div>
                    
                    <div class="detail-section">
                        <h4>üë§ Contact Information</h4>
                        <div class="detail-item">
                            <strong>First Name:</strong> ${data.firstName || 'N/A'}
                        </div>
                        <div class="detail-item">
                            <strong>Last Name:</strong> ${data.lastName || 'N/A'}
                        </div>
                        <div class="detail-item">
                            <strong>Title:</strong> ${data.title || 'N/A'}
                        </div>
                        <div class="detail-item">
                            <strong>Email:</strong> 
                            ${data.email ? `<a href="mailto:${data.email}" class="url-link">${data.email}</a>` : 'N/A'}
                        </div>
                        <div class="detail-item">
                            <strong>LinkedIn:</strong> 
                            ${data.linkedin ? `<a href="${data.linkedin}" target="_blank" class="url-link">${data.linkedin}</a>` : 'N/A'}
                        </div>
                    </div>
                    
                    <div class="detail-section">
                        <h4>üìç Business Details</h4>
                        <div class="detail-item">
                            <strong>Company Number:</strong> ${data.companyNumber || 'N/A'}
                        </div>
                        <div class="detail-item">
                            <strong>State:</strong> ${data.state || 'N/A'}
                        </div>
                        <div class="detail-item">
                            <strong>Country:</strong> ${data.country || 'N/A'}
                        </div>
                        <div class="detail-item">
                            <strong>Extracted:</strong> ${new Date(data.extractionTime).toLocaleString()}
                        </div>
                    </div>
                </div>
            `;

            return sellerCard;
        }

        function clearResults() {
            scrapedData = [];
            document.getElementById('resultsSection').style.display = 'none';
            document.getElementById('productUrl').value = '';
            document.getElementById('bulkUrls').value = '';
            clearMessages();
        }

        function exportResults(format) {
            if (scrapedData.length === 0) {
                showError('No data to export');
                return;
            }

            let content, filename, mimeType;
            
            if (format === 'csv') {
                content = convertToCSV(scrapedData);
                filename = `amazon_sellers_detailed_${new Date().getTime()}.csv`;
                mimeType = 'text/csv;charset=utf-8;';
            } else if (format === 'json') {
                content = JSON.stringify(scrapedData, null, 2);
                filename = `amazon_sellers_detailed_${new Date().getTime()}.json`;
                mimeType = 'application/json;charset=utf-8;';
            }

            const blob = new Blob([content], { type: mimeType });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', filename);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function convertToCSV(data) {
            const headers = [
                'ASIN', 'Seller Name', 'Seller URL', 'Website', 'First Name', 'Last Name',
                'Title', 'Email', 'Company Number', 'LinkedIn', 'State', 'Country',
                'Confidence', 'Extraction Time', 'Product URL'
            ];
            const csvRows = [];
            csvRows.push(headers.join(','));

            data.forEach(row => {
                const values = [
                    row.asin || '',
                    `"${row.sellerName || ''}"`,
                    `"${row.sellerUrl || ''}"`,
                    `"${row.website || ''}"`,
                    `"${row.firstName || ''}"`,
                    `"${row.lastName || ''}"`,
                    `"${row.title || ''}"`,
                    `"${row.email || ''}"`,
                    `"${row.companyNumber || ''}"`,
                    `"${row.linkedin || ''}"`,
                    `"${row.state || ''}"`,
                    `"${row.country || ''}"`,
                    `"${row.confidence || ''}"`,
                    `"${row.extractionTime || ''}"`,
                    `"${row.productUrl || ''}"`
                ];
                csvRows.push(values.join(','));
            });

            return csvRows.join('\n');
        }

        function showLoading() {
            clearMessages();
            const resultsContainer = document.getElementById('resultsContainer');
            resultsContainer.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <span id="loadingMessage">Initializing scraper...</span>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                    </div>
                    <span id="progressText">Preparing...</span>
                </div>
            `;
            document.getElementById('resultsSection').style.display = 'block';
        }

        function updateLoadingMessage(message) {
            const loadingMessage = document.getElementById('loadingMessage');
            if (loadingMessage) {
                loadingMessage.textContent = message;
            }
        }

        function updateProgress(current, total, message) {
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            const loadingMessage = document.getElementById('loadingMessage');
            
            if (progressFill && progressText) {
                const percentage = Math.round((current / total) * 100);
                progressFill.style.width = `${percentage}%`;
                progressText.textContent = `${current}/${total} (${percentage}%)`;
            }
            
            if (loadingMessage && message) {
                loadingMessage.textContent = message;
            }
        }

        function showError(message) {
            clearMessages();
            const container = document.querySelector('.input-section');
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error';
            errorDiv.innerHTML = `<strong>‚ùå Error:</strong> ${message}`;
            container.insertBefore(errorDiv, container.firstChild);
        }

        function showSuccess(message) {
            clearMessages();
            const container = document.querySelector('.input-section');
            const successDiv = document.createElement('div');
            successDiv.className = 'success';
            successDiv.innerHTML = `<strong>‚úÖ Success:</strong> ${message}`;
            container.insertBefore(successDiv, container.firstChild);
        }

        function showInfo(message) {
            clearMessages();
            const container = document.querySelector('.input-section');
            const infoDiv = document.createElement('div');
            infoDiv.className = 'info';
            infoDiv.innerHTML = `<strong>‚ÑπÔ∏è Info:</strong> ${message}`;
            container.insertBefore(infoDiv, container.firstChild);
        }

        function clearMessages() {
            const messages = document.querySelectorAll('.error, .success, .info');
            messages.forEach(msg => msg.remove());
        }

        function delay(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // Initialize with some helpful info
        document.addEventListener('DOMContentLoaded', function() {
            showInfo('Configure the data fields you want to extract above, then enter Amazon product URLs to begin scraping comprehensive seller information.');
        });
    </script>
</body>
</html> 